import{b as x,j as e,c as d,h as m,F as u,a as h}from"./index-I6iB4g_A.js";import{u as p,r as b,L as a}from"./vendor-C-9pyWRM.js";import"./icons-4heOFlV7.js";import"./swiper-CLjMzi4o.js";function v(){var c;const{cart:s,refreshCart:r,removeFromCart:l,clearCart:i}=x(),n=p();b.useEffect(()=>{r()},[r]);const o=async()=>{try{const t=await h.checkout();t.checkout_url?window.location.href=t.checkout_url:(alert(t.message||"Order completed!"),await r(),n("/dashboard"))}catch(t){alert(t.message||"Checkout failed.")}};return e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-10",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center gap-2",children:[e.jsx(d,{})," Your Cart"]}),((c=s.items)==null?void 0:c.length)>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-xl border divide-y mb-6",children:s.items.map(t=>e.jsxs("div",{className:"p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(a,{to:`/products/${t.product.slug}`,className:"font-medium text-gray-900 hover:text-brand-600",children:t.product.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:t.product.is_free?"Free":`$${parseFloat(t.product.price).toFixed(2)}`})]}),e.jsx("button",{onClick:()=>l(t.product.id),className:"text-gray-400 hover:text-red-500 p-2",children:e.jsx(m,{size:18})})]},t.id))}),s.bundle&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6 flex items-center gap-3",children:[e.jsx(u,{className:"text-green-600",size:20}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-green-800 font-medium",children:[s.bundle.title," applied!"]}),e.jsxs("p",{className:"text-green-600 text-sm",children:["You save $",s.bundle_savings.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",s.subtotal.toFixed(2)]})]}),e.jsx("button",{onClick:o,className:"w-full bg-brand-600 text-white py-3 rounded-lg hover:bg-brand-700 font-semibold text-lg mb-3",children:"Proceed to Checkout"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(a,{to:"/products",className:"text-sm text-brand-600 hover:text-brand-700",children:"Continue shopping"}),e.jsx("button",{onClick:i,className:"text-sm text-gray-400 hover:text-red-500",children:"Clear cart"})]})]})]}):e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border",children:[e.jsx(d,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Your cart is empty."}),e.jsx(a,{to:"/products",className:"text-brand-600 hover:text-brand-700 font-medium",children:"Browse products"})]})]})}export{v as default};
