import{a as d,j as e,c as b,F as g,d as y,e as j}from"./index-BNWujJOy.js";import{e as p,u as N,r as l,L as a}from"./vendor-C-9pyWRM.js";import"./icons-4heOFlV7.js";import"./swiper-CLjMzi4o.js";function F(){const{token:n}=p(),h=N(),[t,i]=l.useState("verifying"),[c,r]=l.useState(""),[o,m]=l.useState(!1);l.useEffect(()=>{n&&u()},[n]);const u=async()=>{try{i("verifying");const s=await d.verifyEmail(n);i("success"),r(s.message||"Email verified successfully!"),setTimeout(()=>{h("/dashboard")},3e3)}catch(s){i("error");const x=s.message||"Verification failed. The link may be invalid or expired.";r(x),x.includes("expired")&&i("expired")}},f=async()=>{try{m(!0),await d.resendVerification(),r("Verification email sent! Please check your inbox.")}catch(s){r(s.message||"Failed to resend verification email.")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white rounded-xl border p-8 text-center",children:[t==="verifying"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-brand-600",children:e.jsx(b,{className:"w-full h-full animate-spin"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Your Email"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your email address..."})]}),t==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-green-600",children:e.jsx(g,{className:"w-full h-full"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email Verified!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you to dashboard..."}),e.jsx(a,{to:"/dashboard",className:"inline-block mt-4 text-brand-600 hover:text-brand-700 font-medium",children:"Go to Dashboard Now â†’"})]}),t==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-red-600",children:e.jsx(y,{className:"w-full h-full"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{to:"/login",className:"block w-full bg-brand-600 text-white py-2.5 rounded-lg hover:bg-brand-700 font-medium",children:"Go to Login"}),e.jsx(a,{to:"/register",className:"block text-brand-600 hover:text-brand-700 font-medium",children:"Create New Account"})]})]}),t==="expired"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-yellow-600",children:e.jsx(j,{className:"w-full h-full"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Link Expired"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),d.getToken()?e.jsx("button",{onClick:f,disabled:o,className:"w-full bg-brand-600 text-white py-2.5 rounded-lg hover:bg-brand-700 font-medium disabled:opacity-50",children:o?"Sending...":"Resend Verification Email"}):e.jsx(a,{to:"/login",className:"block w-full bg-brand-600 text-white py-2.5 rounded-lg hover:bg-brand-700 font-medium",children:"Login to Resend"})]})]}),e.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Need help?"," ",e.jsx(a,{to:"/contact",className:"text-brand-600 hover:text-brand-700",children:"Contact Support"})]})]})})}export{F as default};
